По умолчанию Ansible пытается подключиться к узлам как текущий системный пользователь, используя соответствующую пару ключей SSH. Чтобы подключиться как другой пользователь, добавьте команду с -uфлагом и именем предполагаемого пользователя:

ansible all -m ping -u sammy
 
То же самое верно для ansible-playbook:

ansible-playbook myplaybook.yml -u sammy

========================================================

Использование настраиваемого ключа SSH
Если вы используете настраиваемый ключ SSH для подключения к удаленным серверам, вы можете предоставить его во время выполнения с --private-keyопцией:

ansible all -m ping --private-key=~/.ssh/custom_id
 
Этот вариант также действителен для ansible-playbook:

ansible-playbook myplaybook.yml --private-key=~/.ssh/custom_id
================================================================================

Использование аутентификации на основе пароля
Если вам нужно использовать аутентификацию на основе пароля для подключения к узлам, вам нужно добавить этот параметр --ask-passв свою команду Ansible.

Это заставит Ansible запросить пароль пользователя на удаленном сервере, к которому вы пытаетесь подключиться как:

ansible all -m ping --ask-pass
 
Этот вариант также действителен для ansible-playbook:

ansible-playbook myplaybook.yml --ask-pass

=========================================================================
Предоставление sudoпароля
Если удаленному пользователю необходимо предоставить пароль для запуска sudoкоманд, вы можете включить этот параметр --ask-become-passв свою команду Ansible. Вам будет предложено ввести пароль sudo удаленного пользователя:

ansible all -m ping --ask-become-pass
 
Этот вариант также действителен для ansible-playbook:

ansible-playbook myplaybook.yml --ask-become-pass
=====================================================================